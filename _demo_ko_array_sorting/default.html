<html>
<head>
    <title>HTML JavaScript Knockout.js Array Sorting Demo</title>
    <link href="css/default-2017.css" rel="stylesheet" />
    <link href="default.html" rel="prefetch" />
    <script src="script/knockout-3.4.2.js" type="text/javascript"></script>
    <script src="js/ko-main-viewmodel.js" type="text/javascript"></script>
    <script src="js/default.js" type="text/javascript"></script>
</head>
<body>
    <h1 data-bind="text: Title"></h1>
    <h2 data-bind="text: ErrorMessage, visible: ERROR"></h2>

    <div class="SortButtonsTop" data-bind="visible: DEBUGFLAG, template: { foreach: SortButtonArray, name: 'KO-SortButtonArray-Template'}"></div>

    <div class="SortButtonsTop">
        <button data-bind="click: Click_DataArray_NewData">new data</button>
        <button data-bind="click: Click_DataArray_Add">add data</button>
        <button data-bind="click: Click_DataArray_Remove">remove data</button>
    </div>

    <div class="SortButtonsTop" >
        <div>
            <span>Total rows:</span>
            <span data-bind="text: DataArray().length"></span>
        </div>
        <div>
            <span>PageSize:</span>
            <span data-bind="text: PageSize"></span>
        </div>
        <div>
            <span>NumberOfPages:</span>
            <span data-bind="text: NumberOfPages"></span>
        </div>
        <div>
            <span>CurrentPage:</span>
            <span data-bind="text: CurrentPage"></span>
        </div>
    </div>

    <div class="SortDivTable">
        <table cellpadding="0" cellspacing="0">
            <thead>
                <tr data-bind="template: { foreach: SortButtonArray, name: 'KO-SortTabButtonArray-Template'}"></tr>
            </thead>
            <tbody data-bind="template: { foreach: PageDataArray, name: 'KO-DataArray-Template'}"></tbody>
            <tfoot>
                <tr>
                    <td>
                        <button data-bind="click: Click_PreviousPage, attr: { 'disabled': PreviousPageButtonDisabled }"><<</button>
                    </td>
                    <td colspan="4">
                        <span data-bind="text: NumberOfPages"></span>
                    </td>
                    <td style="text-align:right">
                        <button data-bind="click: Click_NextPage, attr: { 'disabled': NextPageButtonDisabled }">>></button>
                    </td>
                </tr>
            </tfoot>
        </table>
    </div>
    <!-- end HTML layout -->
    
    <!-- begin knockout templates -->
    <!-- button array template -->
    <script type="text/html" id="KO-SortButtonArray-Template">
        <button data-bind="text: Text, click: $parent.Click_SortByColumnName"></button>
    </script>

    <!-- table tab button array template -->
    <script type="text/html" id="KO-SortTabButtonArray-Template">
        <td data-bind="click: $parent.Click_SortByColumnName">
            <span  class="DataKeyName" data-bind="text: Text"></span>
            [<span data-bind="text: SortDirection().text"></span>]
            <span  class="DataKeySort" data-bind="html: SortDirection().arrow"></span>
        </td>
    </script>

    <!-- data array content template -->
    <script type="text/html" id="KO-DataArray-Template">
        <tr>
            <td data-bind="text: FirstName"></td>
            <td data-bind="text: LastName"></td>
            <td data-bind="text: Age"></td>
            <td data-bind="text: BornDate"></td>
            <td data-bind="text: DiedDate"></td>
            <td data-bind="text: Children"></td>
        </tr>
    </script>
</body>
</html>